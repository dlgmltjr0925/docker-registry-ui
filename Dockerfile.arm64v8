FROM arm64v8/node:lts-buster 
MAINTAINER fine<dlgmltjr0925@gmail.com>

RUN apt-get update && apt-get install -y glib2.0-dev libvips-dev

EXPOSE 3000

# STEP 1. Create Work directory
RUN mkdir -p /docker-registry-ui

# STEP 2. Change Work directory 
WORKDIR /docker-registry-ui

# STEP 3. Copy package info
COPY data .
COPY .next .
COPY package.json .

# STEP 4. Get node_modules
ENTRYPOINT yarn; exit 0

# STEP 5. Run Server
CMD ["yarn", "start"];
